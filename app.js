const questionBank = [
    { question: "Who has the most centuries in international cricket?", options: ["Sachin Tendulkar", "Virat Kohli", "Ricky Ponting", "Jacques Kallis"], answer: "Sachin Tendulkar" },
    { question: "Which country won the first ICC Cricket World Cup?", options: ["Australia", "England", "West Indies", "India"], answer: "West Indies" },
    { question: "Who is known as the 'God of Cricket'?", options: ["Virat Kohli", "Don Bradman", "MS Dhoni", "Sachin Tendulkar"], answer: "Sachin Tendulkar" },
    { question: "What is the highest individual score in ODI cricket?", options: ["264", "200", "237", "275"], answer: "264" },
    { question: "Which bowler has taken the most wickets in Test cricket?", options: ["Muttiah Muralitharan", "Shane Warne", "James Anderson", "Anil Kumble"], answer: "Muttiah Muralitharan" },
    { question: "Which Indian player is known as the 'Hitman'?", options: ["Rohit Sharma", "Virat Kohli", "MS Dhoni", "Shikhar Dhawan"], answer: "Rohit Sharma" },
    { question: "Who won the ICC Cricket World Cup 2011?", options: ["India", "Sri Lanka", "Australia", "England"], answer: "India" },
    { question: "Who holds the record for the fastest century in ODI cricket?", options: ["AB de Villiers", "Chris Gayle", "Shahid Afridi", "Virat Kohli"], answer: "AB de Villiers" },
    { question: "Which country is known as the Proteas in cricket?", options: ["South Africa", "Australia", "England", "New Zealand"], answer: "South Africa" },
    { question: "Who has the most sixes in international cricket?", options: ["Chris Gayle", "MS Dhoni", "Rohit Sharma", "Shahid Afridi"], answer: "Chris Gayle" },
    { question: "Which team has won the most ICC Cricket World Cups?", options: ["Australia", "India", "West Indies", "England"], answer: "Australia" },
    { question: "Who is the youngest player to score a century in international cricket?", options: ["Shahid Afridi", "Virat Kohli", "Sachin Tendulkar", "Rashid Khan"], answer: "Shahid Afridi" },
    { question: "Which cricket stadium is the largest in the world?", options: ["Narendra Modi Stadium", "MCG", "Lord's", "Eden Gardens"], answer: "Narendra Modi Stadium" },
    { question: "Who is the fastest bowler in cricket history?", options: ["Shoaib Akhtar", "Brett Lee", "Shaun Tait", "Mitchell Starc"], answer: "Shoaib Akhtar" },
    { question: "Which player has the highest batting average in Test cricket?", options: ["Don Bradman", "Steve Smith", "Kane Williamson", "Jacques Kallis"], answer: "Don Bradman" },
    { question: "Who is the captain of the Indian cricket team in 2023?", options: ["Rohit Sharma", "Virat Kohli", "KL Rahul", "Hardik Pandya"], answer: "Rohit Sharma" },
    { question: "Which bowler has the best bowling figures in ODI cricket?", options: ["Chaminda Vaas", "Muttiah Muralitharan", "Glenn McGrath", "Anil Kumble"], answer: "Chaminda Vaas" },
    { question: "Which country is known as the Black Caps in cricket?", options: ["New Zealand", "South Africa", "England", "West Indies"], answer: "New Zealand" },
    { question: "Who is the highest run-scorer in T20 internationals?", options: ["Virat Kohli", "Rohit Sharma", "Babar Azam", "Chris Gayle"], answer: "Babar Azam" },
    { question: "Which cricket ground is known as the 'Home of Cricket'?", options: ["Lord's", "MCG", "Eden Gardens", "The Oval"], answer: "Lord's" },
    {
    "question": "Who has the most centuries in international cricket?",
    "options": [
      "Sachin Tendulkar",
      "Virat Kohli",
      "Ricky Ponting",
      "Jacques Kallis"
    ],
    "answer": "Sachin Tendulkar"
  },
  {
    "question": "Which country won the first ever Cricket World Cup in 1975?",
    "options": [
      "Australia",
      "India",
      "West Indies",
      "England"
    ],
    "answer": "West Indies"
  },
  {
    "question": "Who is the highest run scorer in Test cricket?",
    "options": [
      "Sachin Tendulkar",
      "Ricky Ponting",
      "Brian Lara",
      "Kumar Sangakkara"
    ],
    "answer": "Sachin Tendulkar"
  },
  {
    "question": "Which bowler has the most wickets in international cricket?",
    "options": [
      "Muttiah Muralitharan",
      "Shane Warne",
      "Anil Kumble",
      "James Anderson"
    ],
    "answer": "Muttiah Muralitharan"
  },
  {
    "question": "Who was the captain of India when they won the 1983 World Cup?",
    "options": [
      "Kapil Dev",
      "Sunil Gavaskar",
      "Mohammad Azharuddin",
      "Ravi Shastri"
    ],
    "answer": "Kapil Dev"
  },
  {
    "question": "Which Indian cricketer is known as the 'Wall'?",
    "options": [
      "Rahul Dravid",
      "Sourav Ganguly",
      "VVS Laxman",
      "Anil Kumble"
    ],
    "answer": "Rahul Dravid"
  },
  {
    "question": "Which player has hit the most sixes in international cricket?",
    "options": [
      "Chris Gayle",
      "MS Dhoni",
      "Rohit Sharma",
      "Shahid Afridi"
    ],
    "answer": "Chris Gayle"
  },
  {
    "question": "Who scored the first double century in ODI cricket?",
    "options": [
      "Rohit Sharma",
      "Sachin Tendulkar",
      "Virender Sehwag",
      "Martin Guptill"
    ],
    "answer": "Sachin Tendulkar"
  },
  {
    "question": "Which country has won the most ICC Cricket World Cups?",
    "options": [
      "India",
      "Australia",
      "West Indies",
      "England"
    ],
    "answer": "Australia"
  },
  {
    "question": "Who was the first batsman to score 10,000 runs in Test cricket?",
    "options": [
      "Sunil Gavaskar",
      "Sachin Tendulkar",
      "Brian Lara",
      "Allan Border"
    ],
    "answer": "Sunil Gavaskar"
  },
  {
    "question": "Which bowler has taken the most wickets in World Cup history?",
    "options": [
      "Glenn McGrath",
      "Lasith Malinga",
      "Wasim Akram",
      "Mitchell Starc"
    ],
    "answer": "Glenn McGrath"
  },
  {
    "question": "Who was the first Indian cricketer to score a century in all three formats?",
    "options": [
      "Suresh Raina",
      "Rohit Sharma",
      "Virat Kohli",
      "KL Rahul"
    ],
    "answer": "Suresh Raina"
  },
  {
    "question": "Who is the fastest batsman to reach 8000, 9000 and 10000 runs in ODIs?",
    "options": [
      "AB de Villiers",
      "Virat Kohli",
      "Rohit Sharma",
      "Hashim Amla"
    ],
    "answer": "Virat Kohli"
  },
  {
    "question": "Who hit six sixes in an over in a T20 World Cup match?",
    "options": [
      "Yuvraj Singh",
      "Chris Gayle",
      "MS Dhoni",
      "Brendon McCullum"
    ],
    "answer": "Yuvraj Singh"
  },
  {
    "question": "Which cricketer is known as 'Captain Cool'?",
    "options": [
      "MS Dhoni",
      "Virat Kohli",
      "Steve Waugh",
      "Eoin Morgan"
    ],
    "answer": "MS Dhoni"
  },
  {
    "question": "Who bowled the first ball in the history of Test cricket?",
    "options": [
      "Charles Bannerman",
      "Fred Spofforth",
      "Alfred Shaw",
      "WG Grace"
    ],
    "answer": "Alfred Shaw"
  },
  {
    "question": "Which Indian cricketer has scored the most runs in a single World Cup?",
    "options": [
      "Sachin Tendulkar",
      "Virat Kohli",
      "Rohit Sharma",
      "Sourav Ganguly"
    ],
    "answer": "Rohit Sharma"
  },
  {
    "question": "Which bowler has the best bowling figures in an ODI match?",
    "options": [
      "Chaminda Vaas",
      "Glenn McGrath",
      "Shahid Afridi",
      "Chaminda Vaas"
    ],
    "answer": "Chaminda Vaas"
  },
  {
    "question": "Who scored 400 not out in a Test match?",
    "options": [
      "Brian Lara",
      "Matthew Hayden",
      "Chris Gayle",
      "Don Bradman"
    ],
    "answer": "Brian Lara"
  },
  {
    "question": "Which country hosted the 2019 Cricket World Cup?",
    "options": [
      "India",
      "Australia",
      "England",
      "South Africa"
    ],
    "answer": "England"
  }
 ];
// const questionBank = new Array(100).fill(null).map((_, index) => ({
//     question: `Cricket trivia question ${index + 1}`,
//     options: ["Option A", "Option B", "Option C", "Option D"],
//     answer: "Option A"
// }));

//  select 5 random question

function RandomQuestion(){
    
    // const arr = [];
    // let i = 0;
    // let length = questionBank.length;
    // while(i<5)
    // {
    //   const index = Math.floor(Math.random()*length);
    //   arr.push(questionBank[index]);
    //   [questionBank[index],questionBank[length-1]] = [questionBank[length-1],questionBank[index]];
    //   length--,i++;
    // }

    // return arr;

    //O(nlog(n));
    // questionBank.sort(()=>Math.random()-0.5);
    // return questionBank.slice(0,5);


    //best approach

    const arr=[];                                                                                                                                         
    let i=0;
    let length=questionBank.length;    

    while(i<10)
    {
        const index=Math.floor(Math.random()*length); 
        arr.push(questionBank[index]);
        [questionBank[index],questionBank[length-1]]=[questionBank[length-1],questionBank[index]];
        length--,i++; 
    }
    return arr; 
}

const form = document.querySelector('form');
const selected_question = RandomQuestion();
const correct_answer = {};

//  create the input field of the form
selected_question.forEach((problem, index)=>{
    const div_element = document.createElement('div');
    div_element.className = "question";
    
    const para = document.createElement('p');
    para.innerText = `${index+1}. ${problem['question']}`;
    div_element.appendChild(para);

    //  Now create option for each field   
    problem['options'].forEach((data)=>{
        const input = document.createElement('input'); //INPUT ELEMENT
        input.type = "radio";
        input.name = `q${index+1}`;
        input.value = data;

        const label = document.createElement('label'); //LABEL WTIH INPUT
        label.appendChild(input);
        label.appendChild(document.createTextNode(data));//data insertion
        div_element.append(label);
        div_element.appendChild(document.createElement('br'));
    })

    correct_answer[`q${index+1}`] = problem['answer'];
    form.append(div_element);
})

const submitButton = document.createElement('button');
submitButton.type = 'submit';
submitButton.className = "btn";
submitButton.innerText = "SUBMIT";
form.appendChild(submitButton);

// check result of submitted result
form.addEventListener('submit',(event)=>{
    event.preventDefault();
    const data = new FormData(form);
    let result = 0
    for(let [key,value] of data.entries())
    {
     if(value===correct_answer[key])
         result++;
    }
    const output = document.getElementById('out');
    output.className='output';
    output.innerText = `${result} out of 5 is correct`;
 
    form.reset();
 
 })